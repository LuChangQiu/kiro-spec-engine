{
  "version": "1.0.0",
  "mode": "business-safe-assistant",
  "default_profile": "business-user",
  "length_policy": {
    "min_chars": 12,
    "max_chars": 1200,
    "min_significant_tokens": 4
  },
  "deny_patterns": [
    {
      "id": "credential-exfiltration",
      "pattern": "\\b(export|dump|reveal|show)\\b[^.\\n]{0,80}\\b(password|secret|token|credential)\\b",
      "reason": "request attempts to expose credentials or secrets"
    },
    {
      "id": "approval-bypass",
      "pattern": "\\b(skip|bypass|disable)\\b[^.\\n]{0,80}\\b(approval|review|audit|permission)\\b",
      "reason": "request attempts to bypass approval or governance flow"
    },
    {
      "id": "destructive-without-guardrail",
      "pattern": "\\b(delete|truncate|drop)\\b[^.\\n]{0,80}\\b(without backup|without approval|directly)\\b",
      "reason": "destructive action request lacks required safety guardrails"
    }
  ],
  "clarify_patterns": [
    {
      "id": "ambiguous-improve",
      "pattern": "\\b(improve|optimize|fix)\\b",
      "reason": "goal is improvement-oriented but missing measurable target"
    },
    {
      "id": "vague-scope",
      "pattern": "\\b(system|workflow|process)\\b[^.\\n]{0,50}\\b(all|overall|everything)\\b",
      "reason": "goal scope is too broad and needs narrowing"
    }
  ],
  "response_rules": [
    "Use concise business language and avoid deep technical jargon.",
    "Always restate objective, scope, and expected impact before recommendations.",
    "When risk or permission is involved, explicitly list required approvals and authorization.",
    "If requirement is ambiguous, ask at most two focused clarification questions.",
    "Never propose credential export, approval bypass, or secret leakage."
  ],
  "clarification_templates": [
    "What business metric should improve first (speed, accuracy, cost, compliance)?",
    "Which module/page should be changed first, and what must remain unchanged?"
  ],
  "profiles": {
    "business-user": {
      "mode": "business-safe-assistant",
      "response_rules": [
        "Prefer business outcomes and measurable impact language over implementation details."
      ]
    },
    "system-maintainer": {
      "mode": "maintenance-safe-assistant",
      "length_policy": {
        "min_chars": 8,
        "max_chars": 1600,
        "min_significant_tokens": 3
      },
      "deny_patterns": [
        {
          "id": "prod-change-without-ticket",
          "pattern": "\\b(prod|production)\\b[^.\\n]{0,120}\\b(without ticket|no ticket|skip ticket)\\b",
          "reason": "production maintenance request is missing approved change ticket"
        },
        {
          "id": "maintenance-no-rollback",
          "pattern": "\\b(hotfix|patch|change|deploy)\\b[^.\\n]{0,120}\\b(without rollback|no rollback)\\b",
          "reason": "maintenance request lacks rollback safeguard"
        }
      ],
      "response_rules": [
        "For maintenance requests, require change ticket, rollback plan, and approval role before execution.",
        "If request targets production, require staged validation evidence first."
      ],
      "clarification_templates": [
        "What is the approved change ticket id and rollback plan reference?",
        "Which environment should run first (dev/staging/prod), and who is the approver role?"
      ]
    }
  }
}
