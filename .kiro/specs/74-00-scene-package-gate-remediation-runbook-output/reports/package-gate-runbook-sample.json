{
  "evaluated_at": "2026-02-09T11:36:34.492Z",
  "registry_path": ".kiro/specs/70-00-scene-package-gate-policy-and-evaluation/reports/package-registry-input.json",
  "policy_path": ".kiro/specs/70-00-scene-package-gate-policy-and-evaluation/reports/package-gate-policy-three-layer.json",
  "policy": {
    "apiVersion": "kse.scene.package-gate/v0.1",
    "profile": "three-layer",
    "rules": {
      "max_invalid_templates": 0,
      "min_valid_templates": 3,
      "required_layers": [
        "l1-capability",
        "l2-domain",
        "l3-instance"
      ],
      "forbid_unknown_layer": true
    }
  },
  "metrics": {
    "total_templates": 1,
    "valid_templates": 1,
    "invalid_templates": 0,
    "layer_counts": {
      "l1_capability": 0,
      "l2_domain": 1,
      "l3_instance": 0,
      "unknown": 0
    }
  },
  "checks": [
    {
      "id": "max-invalid-templates",
      "expected": "<= 0",
      "actual": 0,
      "passed": true
    },
    {
      "id": "min-valid-templates",
      "expected": ">= 3",
      "actual": 1,
      "passed": false
    },
    {
      "id": "required-layer:l1-capability",
      "expected": ">= 1",
      "actual": 0,
      "passed": false
    },
    {
      "id": "required-layer:l2-domain",
      "expected": ">= 1",
      "actual": 1,
      "passed": true
    },
    {
      "id": "required-layer:l3-instance",
      "expected": ">= 1",
      "actual": 0,
      "passed": false
    },
    {
      "id": "unknown-layer-forbidden",
      "expected": 0,
      "actual": 0,
      "passed": true
    }
  ],
  "summary": {
    "passed": false,
    "total_checks": 6,
    "failed_checks": 3
  },
  "remediation": {
    "action_count": 3,
    "actions": [
      {
        "id": "increase-valid-templates",
        "priority": "high",
        "title": "Increase valid template count by at least 2",
        "recommendation": "Promote additional template packages via package-publish until gate threshold is met.",
        "command_hint": "kse scene package-registry --template-dir .kiro/templates/scene-packages --json",
        "source_check_ids": [
          "min-valid-templates"
        ]
      },
      {
        "id": "cover-l1-capability",
        "priority": "medium",
        "title": "Add at least one l1-capability template package",
        "recommendation": "Create and publish a scene-capability package to satisfy l1-capability coverage.",
        "command_hint": "kse scene package-template --kind scene-capability --spec <spec-name> && kse scene package-publish --spec <spec-name>",
        "source_check_ids": [
          "required-layer:l1-capability"
        ]
      },
      {
        "id": "cover-l3-instance",
        "priority": "medium",
        "title": "Add at least one l3-instance template package",
        "recommendation": "Create and publish a scene-template package to satisfy l3-instance coverage.",
        "command_hint": "kse scene package-template --kind scene-template --spec <spec-name> && kse scene package-publish --spec <spec-name>",
        "source_check_ids": [
          "required-layer:l3-instance"
        ]
      }
    ]
  },
  "output_path": ".kiro/specs/74-00-scene-package-gate-remediation-runbook-output/reports/package-gate-runbook-output.json",
  "output_abs_path": "E:\\workspace\\kiro-spec-engine\\.kiro\\specs\\74-00-scene-package-gate-remediation-runbook-output\\reports\\package-gate-runbook-output.json",
  "task_draft": {
    "path": "E:\\workspace\\kiro-spec-engine\\.kiro\\specs\\74-00-scene-package-gate-remediation-runbook-output\\reports\\package-gate-runbook-task-draft.md",
    "output_path": ".kiro/specs/74-00-scene-package-gate-remediation-runbook-output/reports/package-gate-runbook-task-draft.md",
    "failed_checks": 3,
    "suggested_actions": 3
  },
  "runbook": {
    "path": "E:\\workspace\\kiro-spec-engine\\.kiro\\specs\\74-00-scene-package-gate-remediation-runbook-output\\reports\\package-gate-remediation-runbook.md",
    "output_path": ".kiro/specs/74-00-scene-package-gate-remediation-runbook-output/reports/package-gate-remediation-runbook.md",
    "action_count": 3
  }
}
